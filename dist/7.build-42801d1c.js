webpackJsonp([7],{107:function(e,t,n){var o=n(84);"string"==typeof o&&(o=[[e.i,o,""]]);n(5)(o,{});o.locals&&(e.exports=o.locals)},38:function(e,t,n){var o,a;n(107),o=n(70);var i=n(98);a=o=o||{},"object"!=typeof o["default"]&&"function"!=typeof o["default"]||(a=o=o["default"]),"function"==typeof a&&(a=a.options),a.name=a.name||"login",a.render=i.render,a.staticRenderFns=i.staticRenderFns,e.exports=o},42:function(e,t,n){"use strict";t["default"]={data:function(){return{}},props:["showLoading"]}},43:function(e,t,n){t=e.exports=n(4)(),t.push([e.i,"\n.el-loading-demo {\n  border: 1px solid #999;\n  border-radius: 4px;\n  height: 100px;\n}\n",""])},44:function(e,t,n){var o,a;n(46),o=n(42);var i=n(45);a=o=o||{},"object"!=typeof o["default"]&&"function"!=typeof o["default"]||(a=o=o["default"]),"function"==typeof a&&(a=a.options),a.name=a.name||"loading",a.render=i.render,a.staticRenderFns=i.staticRenderFns,e.exports=o},45:function(module,exports){module.exports={render:function(){with(this)return _h("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen",value:showLoading,expression:"showLoading",modifiers:{fullscreen:!0}}]})},staticRenderFns:[]}},46:function(e,t,n){var o=n(43);"string"==typeof o&&(o=[[e.i,o,""]]);n(5)(o,{});o.locals&&(e.exports=o.locals)},70:function(e,t,n){"use strict";(function(e){var o=n(14),a=n.n(o),i=n(44),r=n.n(i);t["default"]={data:function(){return{at:"",alert:{title:"",type:"",description:""},loading:{showLoading:!1,content:"loading...",show:function(){this.showLoading=!0},hide:function(){this.showLoading=!1}},redirect:this.$route.query.redirect||""}},computed:{},mounted:function(){},methods:{goBack:function(){var e=decodeURIComponent(this.$route.query.redirect);this.$router.replace(e)},login:function(){var t=this,n=this;return""===n.at?void n.$message({showClose:!0,message:"token格式错误，可从官网个人设置页面获取",type:"error"}):(this.loading.show(),void e.ajax({type:"POST",url:"https://cnodejs.org/api/v1/accesstoken",dataType:"json",data:{accesstoken:n.at}}).done(function(e){return t.loading.hide(),e&&e.success?(localStorage.loginname=e.loginname,localStorage.avatar=e.avatar_url,localStorage.id=e.id,localStorage.accesstoken=n.at,void n.$message({showClose:!0,message:"登录成功",type:"success",onClose:function(){var e=decodeURIComponent(n.$route.query.redirect||"/");n.$router.replace(e)}})):void n.$message({showClose:!0,message:"登录出错，请稍候再试！",type:"warning"})}).fail(function(e){t.loading.hide(),n.$message({showClose:!0,message:"登录出错，请稍候再试！",type:"warning"})}))}},components:{cvHead:a.a,cvLoading:r.a}}}).call(t,n(1))},84:function(e,t,n){t=e.exports=n(4)(),t.push([e.i,"\n.input-area {\n  position: relative;\n  text-align: center;\n  width: 50%;\n  margin-left: 25%;\n}\n",""])},98:function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"container"}},[_h("cvHead")," ",_h("main",{attrs:{id:"main"}},[_h("el-row",{attrs:{gutter:20}},[_h("el-col",{attrs:{span:18,id:"content",offset:3}},[_h("div",{staticClass:"grid-content bg-purple"},[_h("el-card",{staticClass:"box-card"},[_h("header",{slot:"header",staticClass:"clearfix",attrs:{id:"panel-header"}},[_m(0)])," ",_h("main",[_h("div",{staticClass:"input-area"},[_h("el-form",{ref:"form",attrs:{"label-width":"80px"},on:{submit:function(e){e.preventDefault(),login(e)}}},[_h("el-form-item",{attrs:{label:"token"}},[_h("el-input",{directives:[{name:"model",rawName:"v-model",value:at,expression:"at"}],attrs:{maxlength:36,minlength:36,placeholder:"请输入个人accesstoken..."},domProps:{value:at},on:{input:function(e){at=e}}})])," ",_h("el-form-item",[redirect?_h("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){goBack(e)}}},[_m(1),"返回上一页"]):_e()," ",_h("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){login(e)}}},["登录"])])])])])])])])])])," ",_h("cvLoading",{attrs:{showLoading:loading.showLoading,content:loading.content}})])},staticRenderFns:[function(){with(this)return _h("span",["登录"])},function(){with(this)return _h("i",{staticClass:"el-icon-caret-left"})}]}}});